<html>
<head>
  <title>W08: Example 02</title>
</head>
<body>
  <script src="three.min.js"></script>

  <script type="x-shader/x-vertex" id="phong.vert">

  varying vec3 point_color;
  varying vec4 point_position;
  varying vec3 normal_vector;
  uniform vec3 light_position;

void main()

{

point_color = color;

point_position = modelViewMatrix * vec4( position, 1.0 );

normal_vector = normalMatrix * normal;

gl_Position = projectionMatrix * point_position;

}
  </script>

  <script type="x-shader/x-fragment" id="phong.frag">
uniform vec3 lightDir;
varying vec3 normal_vector;

void main()
{
  float intensity;
  vec4 color;
  intensity = dot(lightDir,normalize(normal_vector));

  if (intensity > 0.95)
    color = vec4(1.0,0.5,0.5,1.0);
  else if (intensity > 0.5)
    color = vec4(0.6,0.3,0.3,1.0);
  else if (intensity > 0.25)
    color = vec4(0.4,0.2,0.2,1.0);
  else
    color = vec4(0.2,0.1,0.1,1.0);
  gl_FragColor = color;

}

  </script>


  <script src="main.js"></script>
  <script>
  main();
  </script>
</body>
</html>
